# ğŸ¬ Perfacto-AI

<div align="center">

**â€œí˜ë¥´ì†Œë‚˜ í•œ ì¤„ â†’ ì‡¼ì¸  ì˜ìƒ ì™„ì„± â†’ YouTube ì—…ë¡œë“œê¹Œì§€ ìë™â€**  

LLM Â· RAG Â· TTS Â· ì´ë¯¸ì§€ Â· ì˜ìƒ í•©ì„±ì„ í•œ ë²ˆì— ë¬¶ì€  
**í¬ë¦¬ì—ì´í„°ìš© ìˆí¼ ìë™ ì œì‘ íŒŒì´í”„ë¼ì¸**

---

![Python](https://img.shields.io/badge/Python-3.10+-3776AB?logo=python&logoColor=white)
![Streamlit](https://img.shields.io/badge/Streamlit-app-FF4B4B?logo=streamlit&logoColor=white)
![OpenAI](https://img.shields.io/badge/LLM-OpenAI-blue?logo=openai)
![TTS](https://img.shields.io/badge/TTS-ElevenLabs%20%7C%20Polly-purple)
![YouTube](https://img.shields.io/badge/Upload-YouTube-FF0000?logo=youtube&logoColor=white)
![Status](https://img.shields.io/badge/status-Active-brightgreen)
![Project](https://img.shields.io/badge/project-Team--project-informational)
![Owner](https://img.shields.io/badge/dev-Main%20Developer%3A%20Han%20Seongju-black)

</div>

---

## âœ¨ í•œ ì¤„ ìš”ì•½

> **ì•„ì´ë””ì–´ë§Œ ìˆìœ¼ë©´ ëœë‹¤.**  
> í˜ë¥´ì†Œë‚˜ì™€ ì£¼ì œë§Œ ë˜ì§€ë©´,  
> ğŸ‘‰ ëŒ€ë³¸ ìƒì„± â†’ ìŒì„±/TTS â†’ BGM â†’ ì´ë¯¸ì§€ â†’ 9:16 ì‡¼ì¸  ì˜ìƒ â†’ YouTube ì—…ë¡œë“œê¹Œì§€  
> ì „ë¶€ í•œ ë²ˆì— ëë‚´ì¤€ë‹¤.

---

## ğŸ™‹â€â™‚ï¸ í”„ë¡œì íŠ¸ & ì—­í• 

- ì´ ë ˆí¬ì§€í† ë¦¬ëŠ” **íŒ€ í”„ë¡œì íŠ¸ í˜•íƒœ**ë¡œ ì‹œì‘ë˜ì—ˆì§€ë§Œ,
- í˜„ì¬ ê³µê°œëœ ë²„ì „ì˜
  - **ì•„í‚¤í…ì²˜ ì„¤ê³„**
  - **LLM/RAG íŒŒì´í”„ë¼ì¸ ì„¤ê³„ ë° êµ¬í˜„**
  - **TTS Â· ìë§‰ Â· ì´ë¯¸ì§€ Â· ì˜ìƒ í•©ì„± ëª¨ë“ˆ êµ¬í˜„**
  - **Streamlit ì›¹ UI êµ¬ì„±**
  - **YouTube ì—…ë¡œë“œ ë° ë°°ì¹˜ ëŸ¬ë„ˆ êµ¬í˜„**
- ì€ **ëª¨ë‘ í•œ ëª…ì˜ ë©”ì¸ ê°œë°œìê°€ ì§ì ‘ ì„¤ê³„Â·êµ¬í˜„Â·ë¦¬íŒ©í† ë§**í•œ ì½”ë“œì…ë‹ˆë‹¤.

> íŒ€ ë‹¨ìœ„ë¡œ ì•„ì´ë””ì–´ë¥¼ ë…¼ì˜í•˜ê³  ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì¡ì•˜ì§€ë§Œ,  
> **ì‹¤ì œ ì½”ë“œÂ·íŒŒì´í”„ë¼ì¸Â·ì¸í”„ë¼ëŠ” ì „ë¶€ ì´ ë ˆí¬ì§€í† ë¦¬ì—ì„œ ê´€ë¦¬**í•©ë‹ˆë‹¤.

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

**Perfecto-AI**ëŠ” Streamlit ê¸°ë°˜ì˜ ì›¹ ì•±ì´ë‹¤. ë¸Œë¼ìš°ì €ì—ì„œ:

1. ì‚¬ìš©ìê°€ **í˜ë¥´ì†Œë‚˜ / ì£¼ì œ**ë¥¼ ì…ë ¥í•˜ë©´ LLMì´ **ìœ íŠœë¸Œ ì‡¼ì¸ ìš© ëŒ€ë³¸**ì„ ìƒì„±
2. **TTS ìŠ¤íƒ€ì¼ + BGM + ìë§‰ í…œí”Œë¦¿**ì„ ì„ íƒí•˜ë©´
3. **9:16 ì„¸ë¡œ ì˜ìƒ + ì¤‘ì•™ ìë§‰**ì„ ìë™ í•©ì„±
4. ê²°ê³¼ë¥¼ **ë¡œì»¬ë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ê±°ë‚˜, **YouTubeì— ë°”ë¡œ ì—…ë¡œë“œ**

ê¹Œì§€ í•œ ë²ˆì— ì²˜ë¦¬í•œë‹¤.

ì§€í–¥ì ì€ ë‹¨ìˆœí•œ â€œì˜ìƒ ì¸ì½”ë”© íˆ´â€ì´ ì•„ë‹ˆë‹¤. ì´ ì•±ì€:

- **ì½˜í…ì¸  ê¸°íš (í˜ë¥´ì†Œë‚˜ ê¸°ë°˜ ì½˜ì…‰íŠ¸ ì •ì˜)**
- **ëŒ€ë³¸ ìƒì„± (LLM + ì„ íƒì  RAG)**
- **ìŒì„±/ìë§‰/ì´ë¯¸ì§€/ì˜ìƒ í•©ì„±**
- **ë°°í¬ (YouTube ì—…ë¡œë“œ, ë°°ì¹˜ ì‹¤í–‰)**

ì„ í•˜ë‚˜ì˜ íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ ë¬¶ì€,  
**ìœ íŠœë¸Œ ì‡¼ì¸  ì±„ë„ ìš´ì˜ìë¥¼ ìœ„í•œ ìë™í™” ë„êµ¬**ë‹¤.

---

## 2. ì£¼ìš” ê¸°ëŠ¥ (Feature Highlights)

### ğŸ”¹ 2.1 í˜ë¥´ì†Œë‚˜ ê¸°ë°˜ ëŒ€ë³¸ ìƒì„±

- `personas.yaml`ì— ì •ì˜ëœ **í˜ë¥´ì†Œë‚˜ ì²´ì¸**ì„ ì‚¬ìš©í•´ ë‹¨ê³„ë³„ ëŒ€ë³¸ ìƒì„±
- ì˜ˆì‹œ í˜ë¥´ì†Œë‚˜:
  - `ONE_PASS_SCIENCE`: **ê³¼í•™ ì‡¼ì¸  ì‘ê°€** í˜ë¥´ì†Œë‚˜  
    - í›… â†’ ì „ê°œ â†’ ë§ˆë¬´ë¦¬ê¹Œì§€ 40~60ì´ˆ ë¶„ëŸ‰ì„ í•œ ë²ˆì— ì‘ì„±
  - `emotional` ê·¸ë£¹: ê°ì„± ì¹´í”¼/ë¬´ì„± ì˜ìƒìš© í…ìŠ¤íŠ¸ í…œí”Œë¦¿
- Streamlit UIì—ì„œ:
  - **ì§ì ‘ í˜ë¥´ì†Œë‚˜/ì§€ì‹œë¬¸ ì…ë ¥**
  - ë˜ëŠ” ì¤€ë¹„ëœ í˜ë¥´ì†Œë‚˜ í”„ë¦¬ì…‹ì„ ë¶ˆëŸ¬ì™€ **ì›í´ë¦­ ëŒ€ë³¸ ìƒì„±**

> â€œë‹¬ì´ í­ë°œí•˜ë©´ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ 40~60ì´ˆ ì‡¼ì¸ ë¡œ ì„¤ëª…í•´ì¤˜.â€  
> ìˆ˜ì¤€ì˜ í”„ë¡¬í”„íŠ¸ë¡œ ë°”ë¡œ ì˜ìƒê¹Œì§€ ë½‘ëŠ” ê±¸ ëª©í‘œë¡œ í•œë‹¤.

---

### ğŸ”¹ 2.2 RAG(ì„ íƒ)ìœ¼ë¡œ ì •ë³´ ë³´ê°•

ë°±ì—”ë“œì—ëŠ” **RAG(Retrieval-Augmented Generation)** íŒŒì´í”„ë¼ì¸ì´ ë¶™ì–´ ìˆë‹¤.

- ì›¹ ë¬¸ì„œ í¬ë¡¤ë§ â†’ BM25 + OpenAI Embedding + Cohere Rerank â†’  
  **ë¬¸ì¥ ë‹¨ìœ„ í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰**
- ìœ íŠœë¸Œ ì±„ë„ ìë§‰(Whisper ê¸°ë°˜)ì„ ìˆ˜ì§‘í•´ **ìë§‰ ê¸°ë°˜ RAG**ë„ ê°€ëŠ¥

ì´ë¥¼ í†µí•´:

- ë¦¬ì–¼í•œ **ì‚¬ì‹¤ ê¸°ë°˜ ê³¼í•™/ì§€ì‹ ì‡¼ì¸ **
- ê¸°ì¡´ ì±„ë„ ì˜ìƒ/ìë§‰ì„ ì¬í™œìš©í•œ **ìš”ì•½/ë¦¬ë¯¹ìŠ¤ ì½˜í…ì¸ **

ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë„ë¡ ì„¤ê³„í–ˆë‹¤.  
í˜„ì¬ ê¸°ë³¸ í˜ë¥´ì†Œë‚˜ëŠ” `rag: none`ì´ì§€ë§Œ, êµ¬ì¡°ì ìœ¼ë¡œ `rag: web` / `rag: youtube`ë¡œ í™•ì¥ ê°€ëŠ¥í•˜ë‹¤.

---

### ğŸ”¹ 2.3 ë‹¤ì¤‘ TTS ì—”ì§„ & ìŠ¤íƒ€ì¼ í…œí”Œë¦¿

TTSëŠ” ë‘ ì¶•ìœ¼ë¡œ êµ¬ì„±ë¼ ìˆë‹¤.

#### â–« ElevenLabs í…œí”Œë¦¿

`elevenlabs_tts.py` ì•ˆì— ì—¬ëŸ¬ ìŠ¤íƒ€ì¼ í…œí”Œë¦¿ì´ ì •ì˜ëœë‹¤.

- `educational`: ì°¨ë¶„í•œ êµìœ¡ìš© í†¤
- `entertainer`: ë¹ ë¥´ê³  í…ì…˜ ë†’ì€ ì‡¼ì¸ ìš© í†¤
- `slow`: ì²œì²œíˆ ì„¤ëª…í•˜ëŠ” ìŠ¤íƒ€ì¼
- `korean_male`, `korean_female`: í•œêµ­ì–´ ì „ìš© ë³´ì´ìŠ¤ í…œí”Œë¦¿

#### â–« Amazon Polly í…œí”Œë¦¿

- `korean_female(Seoyeon)`, `eng_male`, `english_female_uk` ë“± ë‹¤êµ­ì–´ ìŒì„±
- Streamlit UIì—ì„œ **ì†ë„/ë³¼ë¥¨ ì¡°ì ˆ ìŠ¬ë¼ì´ë”** ì œê³µ (Pollyìš©)

Streamlit ìƒì—ì„œ:

- TTS ì œê³µì: `ElevenLabs` / `Amazon Polly` ì„ íƒ
- í…œí”Œë¦¿: êµìœ¡ìš© / ì—”í„°í…Œì´ë„ˆ / í•œêµ­ì–´ ë‚¨/ì—¬ / ëŠë¦¬ê²Œ ë“± ì„ íƒ
- í•„ìš” ì‹œ **ë¬´ì„±(voice ì—†ìŒ) + ê°ì„± í…ìŠ¤íŠ¸ ì „ìš© ì˜ìƒ** ëª¨ë“œë„ ì§€ì›

---

### ğŸ”¹ 2.4 BGM & ìë§‰ í…œí”Œë¦¿

- ê¸°ë³¸ BGM:
  - `DEFAULT_BGM = "assets/[BGM] í™í•© ë¹„íŠ¸ ì‹ ë‚˜ëŠ” ìŒì•… ë¬´ë£Œë¸Œê¸ˆ ... .mp3"`
  - ë˜ëŠ” ì‚¬ìš©ìê°€ ì§ì ‘ BGM ì—…ë¡œë“œ ê°€ëŠ¥
- ìë§‰ ì‹œìŠ¤í…œ:
  - `generate_timed_segments.py`, `ssml_converter.py` ê¸°ë°˜
  - **SSML ê¸°ë°˜ ë°œìŒ/í˜¸í¡/ì‰¼ ì¡°ì •**
  - **ì½ê¸° ì†ë„ ë³´ì •, ìµœì†Œ ë…¸ì¶œ ì‹œê°„, í”„ë ˆì„ ë‹¨ìœ„ ìŠ¤ëƒ…, ìë™ ì¤„ë°”ê¿ˆ** ë“± ìë™ íŠœë‹
  - `.ass` ìë§‰ ìƒì„± í›„ `{\an5}` ì¤‘ì•™ ì •ë ¬ íŒ¨ì¹˜ ì ìš© â†’  
    **ì‡¼ì¸  ìŠ¤íƒ€ì¼ ì¤‘ì•™ ìë§‰ ì˜ìƒ** ìƒì„±

---

### ğŸ”¹ 2.5 ì´ë¯¸ì§€ & ì˜ìƒ í•©ì„±

- ì´ë¯¸ì§€:
  - `image_generator.py` + **Pexels API** ì‚¬ìš©
  - ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì¶”ì¶œí•œ í‚¤ì›Œë“œë¥¼ ì˜ì–´ë¡œ ë³€í™˜ â†’ ì¥ë©´ë³„ ì´ë¯¸ì§€ ìë™ ê²€ìƒ‰
  - ID ë‹¨ìœ„ ì¤‘ë³µ ì œê±°ë¡œ, ê°™ì€ ì´ë¯¸ì§€ ë°˜ë³µ ì‚¬ìš© ìµœì†Œí™”
- ì˜ìƒ:
  - `video_maker.py`
  - ê° ì„¸ê·¸ë¨¼íŠ¸ë³„ ì´ë¯¸ì§€ì— **Ken Burns ìŠ¤íƒ€ì¼(ì¤Œ/íŒ¬) ëª¨ì…˜** ì ìš©
  - ìº”ë²„ìŠ¤ë¥¼ **9:16 ì„¸ë¡œ ë¹„ìœ¨**ë¡œ ë¦¬ì‚¬ì´ì¦ˆ
  - BGM + TTS ë¯¹ì‹± + ìë§‰ ì˜¤ë²„ë ˆì´ê¹Œì§€ í•œ ë²ˆì— ìˆ˜í–‰

ê²°ê³¼ë¬¼ì€:

- 9:16 **ì‡¼ì¸  ìµœì í™” mp4**
- ì¤‘ì•™ ì •ë ¬ ìë§‰
- BGM + ë‚´ë ˆì´ì…˜ ë¯¹ì‹± ì™„ë£Œ ìƒíƒœ

ë¡œ ë°”ë¡œ ì—…ë¡œë“œ ê°€ëŠ¥í•œ ìˆ˜ì¤€ìœ¼ë¡œ ë‚˜ì˜¨ë‹¤.

---

### ğŸ”¹ 2.6 YouTube ìë™ ì—…ë¡œë“œ

- `upload.py`ì—ì„œ **YouTube Data API** ì‚¬ìš©
  - ì™„ì„±ëœ mp4ë¥¼ ì§€ì •ëœ ì±„ë„ë¡œ ë°”ë¡œ ì—…ë¡œë“œ
  - ì œëª©/ì„¤ëª…/ê³µê°œ ë²”ìœ„ ë“± ë©”íƒ€ë°ì´í„° ì„¤ì • ê°€ëŠ¥ (ê¸°ë³¸ê°’ì€ ì½”ë“œì—ì„œ ì •ì˜)
- Streamlit UI:
  - `YT_TOKEN_JSON` ì„¤ì • í›„,
  - **â€œìœ íŠœë¸Œ ì—…ë¡œë“œâ€ ë²„íŠ¼ í•œ ë²ˆ**ìœ¼ë¡œ ì—…ë¡œë“œ
  - ì—…ë¡œë“œ ì™„ë£Œ í›„, YouTube ì˜ìƒ ë§í¬ë¥¼ UIì—ì„œ ë°”ë¡œ í™•ì¸ ê°€ëŠ¥

---

### ğŸ”¹ 2.7 Headless Runner (ì„œë²„/í¬ë¡ ìš©)

- `runner.py`:
  - Streamlit ì—†ì´ë„ **ì„œë²„/í¬ë¡ ì—ì„œ ë°°ì¹˜ ì‹¤í–‰** ê°€ëŠ¥
  - `job_config.yaml`ì„ ê¸°ì¤€ìœ¼ë¡œ:
    - ë§¤ì¼ ì•„ì¹¨/ë°¤ ìë™ ë°œí–‰
    - ê°ì„± ë²„ì „ / ì„¤ëª… ë²„ì „ ë“± ì—¬ëŸ¬ ìŠ¤íƒ€ì¼ì„ **ìë™ ìƒì„±**

í•œë§ˆë””ë¡œ, **â€œì‡¼ì¸  ìë™ ìƒì‚° ê³µì¥â€** ëª¨ë“œë‹¤.

---

## 3. íŒŒì´í”„ë¼ì¸ í•œëˆˆì— ë³´ê¸°

```text
[í˜ë¥´ì†Œë‚˜ / ì£¼ì œ ì…ë ¥]
          â”‚
          â–¼
   [LLM ìŠ¤í¬ë¦½íŠ¸ ìƒì„±]
          â”‚
          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼             â–¼
 [TTS & ì„¸ê·¸ë¨¼íŠ¸ ìƒì„±]   [í‚¤ì›Œë“œ ì¶”ì¶œ]
          â”‚             â”‚
          â–¼             â–¼
    [ìë§‰(.ass)]   [ì´ë¯¸ì§€ ê²€ìƒ‰ (Pexels)]
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â–¼
               [video_maker]
                    â–¼
          ğŸ¬ 9:16 ì‡¼ì¸  ì˜ìƒ(mp4)
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                       â–¼
 [ë¡œì»¬ ë‹¤ìš´ë¡œë“œ]        [YouTube ìë™ ì—…ë¡œë“œ]
````

---

## 4. í™˜ê²½ ìš”êµ¬ì‚¬í•­

### 4.1 ê¸°ë³¸

* **Python** 3.10+
* **ffmpeg**
* OS:

  * Linux / macOS / Windows (ffmpegë§Œ ì¡í˜€ ìˆìœ¼ë©´ ë™ì‘)

### 4.2 í•„ìˆ˜/ê¶Œì¥ API í‚¤

Streamlitì˜ `secrets.toml` ë° í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬í•œë‹¤.

#### `.streamlit/secrets.toml` (ì˜ˆì‹œ)

```toml
# OpenAI (LLM / Embedding)
OPENAI_API_KEY = "sk-..."

# Google (YouTube API + ì¼ë¶€ Embedding/RAG)
GOOGLE_API_KEY = "AIza..."

# ElevenLabs (TTS)
ELEVEN_API_KEY = "eleven-..."

# AWS Polly (TTS)
AWS_ACCESS_KEY_ID = "AKIA..."
AWS_SECRET_ACCESS_KEY = "..."
AWS_REGION = "ap-northeast-2"

# YouTube OAuth Token (json ì „ì²´ë¥¼ ë¬¸ìì—´ë¡œ ì €ì¥)
YT_TOKEN_JSON = """{ ... }"""

# (ì„ íƒ) Redis ìºì‹œ (Upstash ë“±)
REDIS_URL = "redis://..."

# (ì„ íƒ) Cohere Rerank (RAG í’ˆì§ˆ ê°œì„ )
COHERE_API_KEY = "..."

# (ì„ íƒ) ê¸°íƒ€ LLM ì œê³µì
GROQ_API_KEY   = ""
COHERE_API_KEY = ""
```

#### í™˜ê²½ ë³€ìˆ˜ (ì˜ˆì‹œ)

```bash
# ì´ë¯¸ì§€ ê²€ìƒ‰ìš© Pexels API
export PEXELS_API_KEY="your-pexels-key"

# ë¡œì»¬ Redisë¥¼ ì“°ê³  ì‹¶ë‹¤ë©´
export REDIS_HOST="localhost"
export REDIS_PORT="6379"
export REDIS_PASSWORD=""
```

---

## 5. ì„¤ì¹˜ & ì‹¤í–‰

### 5.1 í´ë¡  & ê°€ìƒí™˜ê²½

```bash
git clone https://github.com/Lova-clover/Perfacto-AI.git
cd Perfacto-AI

python -m venv .venv
# macOS / Linux
source .venv/bin/activate
# Windows (PowerShell)
# .venv\Scripts\Activate.ps1
```

### 5.2 íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
pip install --upgrade pip
pip install -r requirements.txt
```

### 5.3 ffmpeg ì„¤ì¹˜

* **Ubuntu**

```bash
sudo apt update
sudo apt install -y ffmpeg
```

* **Windows**

  * choco ì‚¬ìš© ì‹œ: `choco install ffmpeg`
  * ë˜ëŠ” ffmpeg ê³µì‹ ë°°í¬ë³¸ ì„¤ì¹˜ í›„ `ffmpeg`ê°€ PATHì—ì„œ ì¡íˆë„ë¡ ì„¤ì •

### 5.4 Streamlit ì•± ì‹¤í–‰

```bash
streamlit run main.py
```

ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ ì—´ë¦¬ë©´, ì•„ë˜ í”Œë¡œìš°ëŒ€ë¡œ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

---

## 6. Streamlit UI ì‚¬ìš© íë¦„

ì—¬ê¸°ë¶€í„°ëŠ” **ì‹¤ì œ ìœ ì € í”Œë¡œìš°**ë‹¤.

### 6.1 í˜ë¥´ì†Œë‚˜ & ì£¼ì œ ì…ë ¥

1. **í˜ë¥´ì†Œë‚˜ ì˜ì—­**

   * `personas.yaml` ê¸°ë°˜ í”„ë¦¬ì…‹ or ì§ì ‘ í…ìŠ¤íŠ¸ ì…ë ¥
   * ì˜ˆì‹œ:

     * â€œìœ íŠœë¸Œ ì‡¼ì¸ ìš© ê³¼í•™ ì½˜í…ì¸  ì‘ê°€â€
     * â€œê°ì„± ì¹´í”¼ë¼ì´í„°, ì§§ì€ ë¬¸ì¥ ìœ„ì£¼, ìœ„ë¡œ ê³„ì—´â€

2. **ì£¼ì œ/ì§€ì‹œë¬¸ ì…ë ¥**

   * ì˜ˆì‹œ:

     * â€œë‹¬ì´ í­ë°œí•˜ë©´ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ 40~60ì´ˆ ì‡¼ì¸  ëŒ€ë³¸â€
     * â€œí‡´ê·¼ í›„ ì§‘ì— ì˜¤ëŠ” ê¸¸, ê³µí—ˆí•œ ê°ì •ì„ ë‹´ì€ ê°ì„± ë¬¸ì¥ 12ì¤„â€

3. **ëŒ€ë³¸ ìƒì„± ë²„íŠ¼ í´ë¦­**

   * LLMì´ ì¡°ê±´ì— ë§ëŠ” **í•œêµ­ì–´ ìŠ¤í¬ë¦½íŠ¸**ë¥¼ ìƒì„±
   * í•„ìš”í•˜ë©´ ì‚¬ìš©ìê°€ ë¬¸ì¥ì„ ì§ì ‘ ìˆ˜ì • í›„ ë‹¤ìŒ ë‹¨ê³„ ì§„í–‰

---

### 6.2 ìŒì„± / ìë§‰ / BGM ì„¤ì •

1. **TTS ì„¤ì •**

   * ê³µê¸‰ì: `ElevenLabs` / `Amazon Polly`
   * í…œí”Œë¦¿:

     * `educational`, `entertainer`, `slow`, `korean_male`, `korean_female` â€¦
   * (Polly ì‚¬ìš© ì‹œ) ì†ë„/ë³¼ë¥¨ ìŠ¬ë¼ì´ë”ë¡œ ë¯¸ì„¸ ì¡°ì •

2. **BGM ì„ íƒ**

   * ê¸°ë³¸ BGM(`DEFAULT_BGM`) ì‚¬ìš©
   * ë˜ëŠ” íŒŒì¼ ì—…ë¡œë“œë¡œ ì§ì ‘ BGM êµì²´

3. **ìë§‰ ì˜µì…˜**

   * ì–¸ì–´: ê¸°ë³¸ `ko`
   * ìë§‰ í…œí”Œë¦¿:

     * ì¤‘ì•™ ì •ë ¬, 2ì¤„ ìë™ ë˜í•‘, ì½ê¸° ì†ë„ ë³´ì • ë“±ì€ ë‚´ë¶€ì—ì„œ ìë™ ì²˜ë¦¬

---

### 6.3 ì˜ìƒ ìƒì„±

**â€œì˜ìƒ ë§Œë“¤ê¸°â€ ë²„íŠ¼**ì„ ëˆ„ë¥´ë©´:

1. ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¬¸ì¥/í˜¸í¡ ë‹¨ìœ„ë¡œ ë¶„í• 
2. SSML ë³€í™˜ â†’ TTS í˜¸ì¶œ â†’ ì „ì²´ ì˜¤ë””ì˜¤ ìƒì„±
3. ë¬¸ì¥ ê¸¸ì´/ê¸€ììˆ˜ ê¸°ë°˜ìœ¼ë¡œ ìë§‰ ì„¸ê·¸ë¨¼íŠ¸ íƒ€ì´ë° ê³„ì‚°
4. ê° ì„¸ê·¸ë¨¼íŠ¸ë³„ í‚¤ì›Œë“œ ì¶”ì¶œ â†’ Pexelsì—ì„œ ì´ë¯¸ì§€ ìë™ ê²€ìƒ‰
5. ì„¸ê·¸ë¨¼íŠ¸ì— ë§ì¶° ì´ë¯¸ì§€ + ì˜¤ë””ì˜¤ë¥¼ í•©ì„±í•´ **ì„¸ë¡œí˜• mp4** ìƒì„±
6. `.ass` ìë§‰ì„ ì˜¤ë²„ë ˆì´í•˜ì—¬ **ì¤‘ì•™ ìë§‰ ì‡¼ì¸  ì˜ìƒ** ì™„ì„±

---

### 6.4 ê²°ê³¼ í™•ì¸ & ë‹¤ìš´ë¡œë“œ / ì—…ë¡œë“œ

* ì˜ìƒ ìƒì„± í›„:

  * ì•± ë‚´ì—ì„œ **ì˜ìƒ ë¯¸ë¦¬ë³´ê¸°**
  * **mp4 ë‹¤ìš´ë¡œë“œ ë²„íŠ¼** ì œê³µ
* YouTube ì—…ë¡œë“œ:

  * `YT_TOKEN_JSON`ì´ ì„¤ì •ë˜ì–´ ìˆìœ¼ë©´
  * **â€œìœ íŠœë¸Œ ì—…ë¡œë“œâ€ ë²„íŠ¼** í´ë¦­ â†’ ì§€ì • ì±„ë„ë¡œ ì˜ìƒ ìë™ ì—…ë¡œë“œ
  * ì—…ë¡œë“œ ì„±ê³µ ì‹œ, ê²°ê³¼ YouTube ë§í¬ë¥¼ UIì— í‘œì‹œ

---

## 7. Headless Runner (ì„œë²„/í¬ë¡  ìë™í™”)

Streamlit ì—†ì´ ì„œë²„ì—ì„œ ìë™ìœ¼ë¡œ ëŒë¦¬ê³  ì‹¶ë‹¤ë©´ `runner.py`ë¥¼ ì‚¬ìš©í•œë‹¤.

### 7.1 `job_config.yaml` ì˜ˆì‹œ

```yaml
# ì‚¬ìš©í•  personas íŒŒì¼ ë° ê¸°ë³¸ ê·¸ë£¹
personas_file: personas.yaml
personas_group: default

jobs:
  - name: morning-publish
    system_prompt: "ë‹¹ì‹ ì€ ìœ ëŠ¥í•œ AI ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤."
    personas_group: default     # ì–´ë–¤ í˜ë¥´ì†Œë‚˜ ê·¸ë£¹ì„ ì“¸ì§€
    style: basic                # basic | emotional
    include_voice: true
    tts_provider: elevenlabs    # elevenlabs | polly
    tts_template: korean_female # elevenlabs í…œí”Œë¦¿ ì´ë¦„
    polly_voice_key: Seoyeon    # polly ì‚¬ìš© ì‹œ
    subtitle_lang: ko
    bgm_path: assets/bgm.mp3
    upload: true                # YouTube ìë™ ì—…ë¡œë“œ ì—¬ë¶€
    out_dir: assets/auto/morning

  - name: night-emotional
    system_prompt: "ë‹¹ì‹ ì€ ê°ì„± ì¹´í”¼ë¼ì´í„°ì…ë‹ˆë‹¤."
    personas_group: emotional
    style: emotional            # ìŒì„± ì—†ì´ í…ìŠ¤íŠ¸ + BGM ì˜ìƒ
    include_voice: false
    subtitle_lang: ko
    bgm_path: assets/bgm_soft.mp3
    upload: false
    out_dir: assets/auto/night
```

### 7.2 ì‹¤í–‰

```bash
python runner.py -c job_config.yaml
# íŠ¹ì • í˜ë¥´ì†Œë‚˜ ê·¸ë£¹ë§Œ ë°”ê¾¸ê³  ì‹¶ë‹¤ë©´:
# python runner.py -c job_config.yaml --personas-group emotional
```

ê° jobì€:

* í˜ë¥´ì†Œë‚˜ ì²´ì¸ â†’ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
* TTS/ìë§‰/ì´ë¯¸ì§€/ì˜ìƒ/ì—…ë¡œë“œê¹Œì§€ ìë™ ìˆ˜í–‰
* ë§ˆì§€ë§‰ì— ê²°ê³¼(íŒŒì¼ ê²½ë¡œ, ì—…ë¡œë“œ URL)ë¥¼ ì½˜ì†”ì— ì¶œë ¥

---

## 8. ë””ë ‰í„°ë¦¬ êµ¬ì¡° (ìš”ì•½)

```bash
Perfacto-AI/
â”œâ”€ main.py                    # Streamlit ë©”ì¸ ì•±
â”œâ”€ runner.py                  # Headless ë°°ì¹˜ ì‹¤í–‰ê¸°
â”œâ”€ personas.yaml              # í˜ë¥´ì†Œë‚˜ ì •ì˜
â”œâ”€ job_config.yaml            # ë°°ì¹˜ ì¡ ì„¤ì •
â”œâ”€ image_generator.py         # Pexels ì´ë¯¸ì§€ ê²€ìƒ‰ + ë‹¤ìš´ë¡œë“œ
â”œâ”€ generate_timed_segments.py # TTS + ìë§‰ ì„¸ê·¸ë¨¼íŠ¸ ìƒì„±
â”œâ”€ elevenlabs_tts.py          # ElevenLabs / Polly TTS ë˜í¼
â”œâ”€ video_maker.py             # ì´ë¯¸ì§€ + ì˜¤ë””ì˜¤ â†’ mp4, ìë§‰ ì˜¤ë²„ë ˆì´
â”œâ”€ upload.py                  # YouTube ì—…ë¡œë“œ
â”œâ”€ text_scraper.py            # ì›¹ í¬ë¡¤ë§ + í´ë¦°ì—…
â”œâ”€ best_subtitle_extractor.py # YouTube ìë§‰ ì¶”ì¶œ + Whisper
â”œâ”€ RAG/                       # RAG íŒŒì´í”„ë¼ì¸ (ë¬¸ì„œ ë¡œë”©, Retriever, ìºì‹œ)
â”œâ”€ assets/                    # BGM, ìƒ˜í”Œ ì´ë¯¸ì§€, ìë™ ìƒì„± ê²°ê³¼ ì €ì¥ ê²½ë¡œ
â””â”€ .streamlit/
   â””â”€ config.toml             # Streamlit í…Œë§ˆ ë° ì„œë²„ ì„¤ì •
```

---

## 9. ì•ìœ¼ë¡œ í™•ì¥ í¬ì¸íŠ¸

* ë” ë‹¤ì–‘í•œ **í˜ë¥´ì†Œë‚˜ ê·¸ë£¹**

  * êµìœ¡, ê²Œì„, ë¦¬ë·°, ì˜ë£Œ, ì¸í„°ë·°, ë‰´ìŠ¤, ëª¨ì…˜ê·¸ë˜í”½ ë“±
* **ì˜ìƒ í…œí”Œë¦¿ í™•ì¥**

  * í…ìŠ¤íŠ¸ ì˜¨ë¦¬, ìƒë‹¨/í•˜ë‹¨ ë¶„í• , ì¸ë¬¼+ìŠ¬ë¼ì´ë“œ 2ì»· êµ¬ì„± ë“±
* **ìë§‰ ìŠ¤íƒ€ì¼ í”„ë¦¬ì…‹**

  * ì‡¼ì¸ ìš©, êµìœ¡ìš©, ë¸Œì´ë¡œê·¸ìš©, ë°ˆ ìŠ¤íƒ€ì¼ ë“±
* **ëŒ€ëŸ‰ ìŠ¤ì¼€ì¤„ë§**

  * â€œì¼ì£¼ì¼ì¹˜ ìŠ¤í¬ë¦½íŠ¸+ì˜ìƒ ìë™ ìƒì„± & ì˜ˆì•½ ì—…ë¡œë“œâ€

---

## 10. ë¼ì´ì„ ìŠ¤ & ì‚¬ìš© ì‹œ ì£¼ì˜ì‚¬í•­

> ì´ ë ˆí¬ì§€í† ë¦¬ëŠ” **ê³µê°œ ì €ì¥ì†Œì´ì§€ë§Œ, ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ì„ ìŠ¤ê°€ ì•„ë‹™ë‹ˆë‹¤.**
> ì½”ë“œì™€ ì•„ì´ë””ì–´ëŠ” **í•™ìŠµ Â· ì—°êµ¬ Â· ë ˆí¼ëŸ°ìŠ¤ ìš©ë„**ë¡œë§Œ ì°¸ê³ í•´ ì£¼ì„¸ìš”.

### âŒ ë‹¤ìŒê³¼ ê°™ì€ ì‚¬ìš©ì€ ê¸ˆì§€í•©ë‹ˆë‹¤

* **ìˆ˜ì—… ê³¼ì œ / ìº¡ìŠ¤í†¤ / ê³µëª¨ì „ / ì±„ìš© ê³¼ì œ** ë“±ì—

  * ì´ ë ˆí¬ì§€í† ë¦¬ ì½”ë“œë¥¼ **ê·¸ëŒ€ë¡œ ë³µì‚¬í•´ ì œì¶œ**í•˜ëŠ” í–‰ìœ„
  * ë³€ìˆ˜ëª…, íŒŒì¼ëª…ë§Œ ì¼ë¶€ ìˆ˜ì •í•œ ë’¤ **ì‹¤ì§ˆì ìœ¼ë¡œ ë™ì¼í•œ ì½”ë“œ**ë¡œ ì œì¶œí•˜ëŠ” í–‰ìœ„
* ì‚¬ì „ **ì„œë©´ í—ˆê°€ ì—†ì´ ìƒì—… ì„œë¹„ìŠ¤ / ì œí’ˆ**ì— ì´ ì½”ë“œë¥¼ í†µì§¸ë¡œ íƒ‘ì¬í•˜ëŠ” í–‰ìœ„
* ì´ ë ˆí¬ì§€í† ë¦¬ë¥¼ í¬í¬/ë³µì œí•˜ì—¬, **ë³¸ì¸ ë‹¨ë… ì‘ì—…ë¬¼ì¸ ê²ƒì²˜ëŸ¼** ì˜¤í•´í•˜ê²Œ ë§Œë“œëŠ” í–‰ìœ„

ìœ„ì™€ ê°™ì€ ì‚¬ìš©ì€
ğŸ‘‰ í•™ë‚´ ê·œì •, ëŒ€íšŒ ê·œì •, í”Œë«í¼ ì•½ê´€ì„ ë™ì‹œì— ìœ„ë°˜í•  ìˆ˜ ìˆìœ¼ë©°,
í•´ë‹¹ ì±…ì„ì€ **ì „ì ìœ¼ë¡œ ì‚¬ìš©í•œ ë³¸ì¸ì—ê²Œ ìˆìŠµë‹ˆë‹¤.**

### âœ… í—ˆìš©ë˜ëŠ” ì‚¬ìš© ë²”ìœ„

* ì½”ë“œ êµ¬ì¡°, ì•„ì´ë””ì–´, íŒŒì´í”„ë¼ì¸ ì„¤ê³„ë¥¼ **ì°¸ê³ ìš©ìœ¼ë¡œ ì½ëŠ” ê²ƒ**
* ì¼ë¶€ ë¡œì§ì„ ì´í•´í•œ ë’¤, **ì§ì ‘ ë‹¤ì‹œ êµ¬í˜„**í•´ ë³´ëŠ” ê²ƒ
* ê°œì¸ í•™ìŠµ/ì—°êµ¬/ì‹¤í—˜ ëª©ì ìœ¼ë¡œ ë¡œì»¬ì—ì„œ ëŒë ¤ë³´ëŠ” ê²ƒ

---

## 11. Author

* **Main Developer / Maintainer**: í•œì„±ì£¼ (Han Seongju)

  * GitHub: [Lova-clover](https://github.com/Lova-clover)
  * Blog: [https://velog.io/@lova-clover/posts](https://velog.io/@lova-clover/posts)

> ë¬¸ì˜ ë˜ëŠ” í˜‘ì—… ì œì•ˆì´ í•„ìš”í•˜ë‹¤ë©´, GitHub ì´ìŠˆë‚˜ ë¸”ë¡œê·¸ë¥¼ í†µí•´ ì—°ë½ ì£¼ì„¸ìš”.
